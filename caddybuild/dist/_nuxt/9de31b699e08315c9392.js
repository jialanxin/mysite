(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{323:function(t,l,e){"use strict";e.r(l);var n={data:function(){return{title:"为Caddy2设置HTTPS",lastUpdate:"2020-03-06"}},head:function(){return{title:this.title}}},o=e(56),r=e(78),v=e.n(r),d=e(309),_=e(331),c=e(310),component=Object(o.a)(n,(function(){var t=this,l=t.$createElement,e=t._self._c||l;return e("v-container",[e("v-row",[e("v-col",[e("h1",[t._v(t._s(t.title))])])],1),t._v(" "),e("v-row",[e("v-col",[e("p",{staticClass:"font-weight-light"},[t._v("latest update: "+t._s(t.lastUpdate))])])],1),t._v(" "),e("v-row",[e("v-col",[e("p",[t._v("记录一下为Caddy2设置HTTPS和Cloudflare Origin CA的步骤。")]),t._v(" "),e("ol",[e("li",[t._v("首先在Cloudflare TLS申请Origin CA。下载证书和私钥保存在本地。（一定要注意把私钥和证书写进gitignore文件里，上传到开源库就不好了）")]),t._v(" "),e("li",[t._v("将证书和私钥上传到服务器，修改Caddyfile，加入tls设置项，写入证书和私钥的地址。")]),t._v(" "),e("li",[t._v("开放docker-compose的80和443端口。（一开始把443写成433，导致521错误，sigh~）")]),t._v(" "),e("li",[t._v("将Cloudflare的设置改为严格HTTPS")])]),t._v(" "),e("p",[t._v("后续还有一步将HTTP重定向至HTTPS，暂时没找到方法做。吐槽一句，Caddy2的资料还是太少了~")])])],1)],1)}),[],!1,null,null,null);l.default=component.exports;v()(component,{VCol:d.a,VContainer:_.a,VRow:c.a})}}]);